{% extends 'base.html.twig' %}

{% block title %}Guardar Propiedad{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Nueva Propiedad</h1>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}

    <form method="post" action="{{ path('app_create') }}" enctype="multipart/form-data">
        <div class="form-group">
            <label for="title">Título:</label>
            <input type="text" class="form-control" id="title" name="title" placeholder="Descripción en dos palabras" required>
            <small class="form-text text-muted">Descripción en dos palabras</small>
        </div>

        <div class="form-group">
            <label for="area">Área:</label>
            <input type="text" class="form-control" id="area" name="area" required>
        </div>

        <div class="form-group">
            <label for="area">Referencia:</label>
            <input type="text" class="form-control" id="reference" name="reference" required>
        </div>

        <!-- Precio, Tipo de operación y Destacado en la misma fila -->
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="price">Precio:</label>
                <input type="number" class="form-control" id="price" name="price" step="0.01" required>
            </div>
            <div class="form-group col-md-4">
                <label for="operation_type">Tipo de operación:</label>
                <select class="form-control" id="operation_type" name="operation_type" required>
                    <option value="Venta">Venta</option>
                    <option value="Alquiler">Alquiler</option>
                    <option value="Alquiler Vacacional">Alquiler Vacacional</option>
                </select>
            </div>
            <div class="custom-checkbox">
                <div class="form-group col-md-4 d-flex align-items-center mt-4">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="outstanding" name="outstanding">
                        <label class="form-check-label" for="outstanding">Destacado</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="observation_price">Observación en el precio (opcional):</label>
            <input type="text" class="form-control" id="observation_price" name="observation_price" >
        </div>

        <div class="form-group">
            <label for="short_description">Descripción corta:</label>
            <textarea class="form-control" id="short_description" name="short_description" rows="2" required></textarea>
        </div>

        <div class="form-group">
            <label for="long_description">Descripción larga:</label>
            <textarea class="form-control" id="long_description" name="long_description" rows="4" required></textarea>
        </div>

        <!--
        <div class="form-group">
            <label for="images">Imágenes:</label>
            <input type="file" class="form-control-file" id="images" name="images[]" multiple accept="image/*">
        </div>
        -->
        <div class="form-group">
            <label for="images">Imágenes:</label>
            <div class="input-group">
                <label for="images" class="btn btn-primary">Subir imágenes</label>
                <input type="file" class="form-control-file d-none" id="images" name="images[]" multiple accept="image/*">
                <span id="file-selected" class="ml-2 text-muted">Ningún archivo seleccionado</span>
            </div>
        </div>

        <script>
            document.getElementById('images').addEventListener('change', function () {
                const files = this.files;
                const fileNames = files.length > 0 ? `${files.length} archivo(s) seleccionado(s)` : 'Ningún archivo seleccionado';
                document.getElementById('file-selected').textContent = fileNames;
            });
        </script>
        

        <button type="submit" class="btn btn-primary">Guardar Propiedad</button>
    </form>

</div>
{% endblock %}


